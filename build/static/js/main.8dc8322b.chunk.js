(this.webpackJsonpuntitled=this.webpackJsonpuntitled||[]).push([[0],{169:function(e,t,a){e.exports=a(357)},174:function(e,t,a){},175:function(e,t,a){},357:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(52),o=a.n(c),s=(a(174),a(8)),i=a(9),l=a(11),u=a(10),m=(a(175),r.a.Component,a(19)),p=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(s.a)(this,a),t.call(this,e)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(m.d,{width:"100%",height:300},r.a.createElement(m.c,{data:this.props.data},this.props.viewLines.map((function(e){if(e.show)return r.a.createElement(m.b,{dataKey:e.name,key:e.name,stroke:e.color,dot:!1})})),r.a.createElement(m.a,{stroke:"#ccc"}),r.a.createElement(m.f,{dataKey:"data"}),r.a.createElement(m.g,null),r.a.createElement(m.e,null)))}}]),a}(r.a.Component),d=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(s.a)(this,a),t.call(this,e)}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,Object.keys(this.props.data).map((function(t){return r.a.createElement("div",{key:t,className:"col-xl-6 pb-5"},r.a.createElement("h1",null,t.charAt(0).toUpperCase()+t.slice(1).replace("-"," ").replace("_"," ")),r.a.createElement(p,{name:t,data:e.props.data[t],viewLines:e.props.viewLines}))})))}}]),a}(r.a.Component),h=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return"right"==this.props.location?r.a.createElement("button",{className:this.props.data.to!=this.props.data.tot_rows?"btn btn-success ml-auto my-auto":"btn btn-success ml-auto my-auto invisible",onClick:function(){var t=e.props.data.from+e.props.data.number,a=t+e.props.data.number;a>e.props.data.tot_rows&&(a=e.props.data.tot_rows),e.props.onclick({to:a,from:t})}},"--\x3e"):"left"==this.props.location?r.a.createElement("button",{className:0!=this.props.data.from?"btn btn-success mr-auto my-auto":"btn btn-success mr-auto my-auto invisible",onClick:function(){var t=e.props.data.from-e.props.data.number;t<0&&(t=0);var a=t+e.props.data.number;e.props.onclick({to:a,from:t})}},"<--"):""}}]),a}(r.a.Component),b=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("p",null,"Scegli quante righe vedere:"),r.a.createElement("div",{className:"btn-group btn-group-toggle mx-auto","data-toggle":"buttons"},this.props.range.map((function(t){return r.a.createElement("label",{className:"btn btn-success",key:t},r.a.createElement("input",Object.assign({type:"radio",id:t,autoComplete:"off"},(function(){if(t==e.props.number)return"checked"}),{onClick:function(){if("Tutti"!=t){var a=e.props.selection.from,n=a+t;n>e.props.selection.tot_rows&&(a=(n=e.props.selection.tot_rows)-t),e.props.onclick({number:t,from:a,to:n})}else e.props.onclick({number:e.props.selection.tot_rows,from:0,to:e.props.selection.tot_rows})}})),t)}))))}}]),a}(r.a.Component),f=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).changeview=function(e){n.setState(e)},n.state={from:0,to:25,number:25,tot_rows:Object.keys(e.data).length},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"col-12 scroll"},r.a.createElement("h1",null,this.props.name),r.a.createElement("p",null,"Mostro le righe da ",this.state.from," a ",this.state.to," di ",this.state.tot_rows," "),r.a.createElement("div",{className:"d-none d-sm-block"},r.a.createElement("div",{className:"row pb-2"},r.a.createElement(h,{location:"left",data:this.state,onclick:this.changeview}),r.a.createElement(b,{range:[25,50,100,250,500,"Tutti"],onclick:this.changeview,selection:this.state}),r.a.createElement(h,{location:"right",data:this.state,onclick:this.changeview}))),r.a.createElement("div",{className:"d-sm-none"},r.a.createElement(b,{range:[25,50,100,250,500,"Tutti"],onclick:this.changeview,selection:this.state}),r.a.createElement("div",{className:"row py-2"},r.a.createElement(h,{location:"left",data:this.state,onclick:this.changeview}),r.a.createElement(h,{location:"right",data:this.state,onclick:this.changeview}))),r.a.createElement("table",{className:"table table-sm table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{key:"data"},"Data"),r.a.createElement("th",{key:"regione"},"Regione"),Object.keys(this.props.data[0]).map((function(e){if("Data"!=e&&"Regione"!=e)return r.a.createElement("th",{key:e},e.replace(/_/g," "))})))),r.a.createElement("tbody",null,this.props.data.slice(this.state.from,this.state.to).map((function(t,a){return r.a.createElement("tr",{key:a},r.a.createElement(r.a.Fragment,null,r.a.createElement("td",{key:"data"},new Date(t.Data).toLocaleDateString()),r.a.createElement("td",{key:"regione"},t.Regione.replace(/-/g," ").replace("_","'")),Object.keys(t).map((function(a){if("Data"!=a&&"Regione"!=a)return"Variazione"==e.props.name?r.a.createElement("td",{key:a},t[a]<=0?t[a]:"+".concat(t[a])):r.a.createElement("td",{key:a},t[a])}))))})))),r.a.createElement("div",{className:"row pb-2"},r.a.createElement(h,{location:"left",data:this.state,onclick:this.changeview}),r.a.createElement(h,{location:"right",data:this.state,onclick:this.changeview})))}}]),a}(r.a.Component),v=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"rounded green mt-2 control-panel p-2 align-items-center justify-content-center d-none d-md-flex"},r.a.createElement("button",{className:"btn btn-success border mr-auto",onClick:this.props.showSidebar},"\xa0","Apri menu","\xa0"),r.a.createElement("h1",{className:"inline"},"Dati pandemia Covid-19"),r.a.createElement("button",{type:"button",className:"raw"==this.props.mode?"btn btn-success border ml-auto invisible":"btn btn-success border ml-auto","data-toggle":"modal","data-target":"#selectData"},"Cambia dati")),r.a.createElement("div",{className:"rounded green mt-2 control-panel p-2 justify-content-center d-lg-none"},r.a.createElement("div",{className:"col-12"},r.a.createElement("h1",null,"Dati pandemia Covid-19")),r.a.createElement("div",{className:"col-12 align-items-center d-flex"},r.a.createElement("button",{className:"btn btn-success border mr-auto",onClick:this.props.showSidebar},"\xa0","Apri menu","\xa0"),r.a.createElement("button",{type:"button",className:"raw"==this.props.mode?"btn btn-success border ml-auto invisible":"btn btn-success border ml-auto","data-toggle":"modal","data-target":"#selectData"},"Cambia dati"))))}}]),a}(r.a.Component),g=a(40),E=a.n(g),k=a(82),w=function(){var e=Object(k.a)(E.a.mark((function e(){var t,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/raw");case 2:return t=e.sent,e.next=5,t.json();case 5:if(a=e.sent,!t.ok){e.next=10;break}return e.abrupt("return",a);case 10:throw a;case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(k.a)(E.a.mark((function e(t,a,n,r){var c,o;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/values?from=".concat(t,"&to=").concat(a,"&params=").concat(n,"&table=").concat(r));case 2:return c=e.sent,e.next=5,c.json();case 5:if(o=e.sent,!c.ok){e.next=10;break}return e.abrupt("return",o);case 10:throw o;case 11:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),j=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).showSidebar=function(){n.setState((function(e){return{showBar:!e.showBar}}))},n.changeMode=function(e){n.setState({loading:!0}),"raw"==e?w().then((function(e){n.setState({data:e,loading:!1,viewLines:[],viewMode:"raw"})})):"graph"==e&&y("2020-02-24","2020-10-29","Deceduti,Positivi","STORICO").then((function(e){n.setState({data:e,loading:!1,viewLines:n.getViewLines(e),viewMode:"graph"})}))},n.getViewLines=function(e){var t=Object.keys(e[Object.keys(e)[0]][0]);return t.splice(t.indexOf("data"),1),t.map((function(e){var t;switch(e){case"Abruzzo":t="#C00000";break;case"Basilicata":t="#FF0000";break;case"Calabria":t="#C55A11";break;case"Campania":t="#FF9900";break;case"Emilia-Romagna":t="#FFD966";break;case"Friuli-Venezia-Giulia":t="#9FBA16";break;case"Lazio":t="#548235";break;case"Liguria":t="#004C00";break;case"Lombardia":t="#009A46";break;case"Marche":t="#0A7C66";break;case"Molise":t="#08B896";break;case"Piemonte":t="#00B0F0";break;case"Puglia":t="#0070C0";break;case"Sardegna":t="#3333CC";break;case"Sicilia":t="#002060";break;case"Toscana":case"Trentino-Alto-Adige":t="#7030A0";break;case"Umbria":t="#D60093";break;case"Valle-d_Aosta":t="#FF00FF";break;case"Veneto":t="#FF7DFF";break;default:t="#000"}return"Italia"==e?{name:e,show:!0,color:t}:{name:e,show:!1,color:t}}))},n.state={data:{},viewLines:[],viewMode:"graph",loading:!0,error:!1,showBar:!1},n}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App container-fluid px-xl-3"},this.iserror())}},{key:"iserror",value:function(){return this.state.error?r.a.createElement("p",null,"Errore con il server"):r.a.createElement(r.a.Fragment,null,r.a.createElement(v,{mode:this.state.viewMode,showSidebar:this.showSidebar}),this.state.loading?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"d-flex justify-content-center mt-5"},r.a.createElement("div",{className:"spinner-border",role:"status"},r.a.createElement("span",{className:"sr-only"})))):r.a.createElement(r.a.Fragment,null,this.viewThing()))}},{key:"viewThing",value:function(){switch(this.state.viewMode){case"graph":return r.a.createElement("div",{className:"row pr-2 pr-xl-5"},r.a.createElement(d,{data:this.state.data,viewLines:this.state.viewLines}));case"raw":return r.a.createElement(r.a.Fragment,null,r.a.createElement(f,{name:"Dati",data:this.state.data.data})," ",r.a.createElement("div",{className:"py-5"}),r.a.createElement(f,{name:"Variazione",data:this.state.data.variation})," ");default:return""}}},{key:"componentDidMount",value:function(){this.changeMode("graph")}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[169,1,2]]]);
//# sourceMappingURL=main.8dc8322b.chunk.js.map